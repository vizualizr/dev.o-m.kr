date-created:: [[2026-01-28]]
date-modified:: [[2026-01-28]]
division:: [[makr]]
stack:: devops, security
tags:: git, config, security-audit, environment-variables
type:: 
alias:: daily-work-log
public:: true
status:: [[ai-generated]]

- ## Summary
	- 저장소의 공개(Public) 전환에 따른 보안 감사를 수행하고, 사이트 설정(`site.config.ts`)과 환경 변수(`.env`) 관리 체계를 정립했다.
	- ==저장소를 기존 계정에서 `vizualizr` 계정으로 이전했다.==
- ## Steps
	- **보안 감사 (Security Audit)**
		- `.gitignore` 규칙 검증: `.env`, `.agent/secrets/` 등 민감 파일 제외 확인.
		- Git 이력 조사: 과거 커밋에 비밀 정보 포함 여부 전수 조사 (이상 없음).
		- 코드 스캔: 하드코딩된 API 키나 이메일 주소 부재 확인.
	- **워크플로우 및 에이전트 개선** (User Requested)
		- Logseq 포맷터를 위한 `.agent` 워크플로우 개정.
		- `.agent/plans` 리팩토링 및 `/daily_summary` 워크플로우를 위한 스킬 구현.
		- 임시 작업 파일 및 구현 계획 파일 정리.
	- **설정 관리 체계 구축**
		- `src/site.config.ts` 생성: 사이트 전역 설정을 중앙화.
		- `.env` 활용: `GOOGLE_SHEET_ID`, `SITE_EMAIL` 등 민감 정보를 환경 변수로 분리.
		- `import.meta.env` 패턴 적용: 소스 코드 내에서 안전하게 환경 변수를 호출하도록 구현.
	- **Git 이력 세탁 가이드**
		- `git-filter-repo`를 이용해 실수로 노출된 로컬 경로를 이력에서 제거하는 방법론 정리.
- ## Troubleshooting
	- **Markdown Validator 로직 수정**
		- 로컬 절대 경로를 GitHub URL로 자동 치환하는 로직을 `validate_md.py`에 추가하려 했으나, 사용자 요청에 따라 설정 관리 및 보안 점검 우선으로 작업 방향을 선회함.
- ## log
	- [[2026-01-28]] Public Repo 전환 보안 점검 및 `site.config.ts` 구현 완료.
- ### References
	- [[.agent/daily-logs/2026_01_28.md]]