date-created:: [[2026-01-16]]
date-modified:: [[2026-01-16]]
division:: [[makr]]
stack:: frontend
tags:: 
type::
alias::
public:: false
status:: [[ai-generated]]

- ## Summary
	- Astro Content Collection의 데이터 로딩 누락 문제를 해결하고, Swiss 테마의 헤더 컴포넌트를 분리하여 구조를 개선했다. 개발 편의를 위해 Vite 설정과 서지 데이터 링크도 정비했다.
- ## Steps
	- ### 1. 데이터 로딩 결함 수정
		- 전체 17개 기사 중 13개만 표시되는 현상 발견.
		- 원인이 Zod 스키마 검증 실패임을 확인 (`02.mdx`, `President 101.mdx` 등)
		- 문제 파일들의 Frontmatter(날짜 형식, 이미지 경로 등)를 표준에 맞게 수정하여 100% 로딩 달성.
	- ### 2. 그리드 시스템 로직 보강
		- `grid-mapper.js`에 `highlight.listed: false`인 기사를 필터링하는 로직 추가.
		- 디버깅을 위한 상세 로그 출력 기능 구현.
	- ### 3. 컴포넌트 구조화
		- `index.astro`에 인라인으로 포함된 헤더를 `src/layouts/swiss/Header.astro`로 분리.
	- ### 4. 환경 설정
		- `vite.config.ts` 수정: `.agent` 폴더 변경 시 불필요한 HMR 방지.
		- `mklink /H` 명령어로 `src/assets/references.bib` 하드 링크 복구.
- ## Troubleshooting
	- ### Astro Content Collection 누락 현상
		- **증상**: 파일은 존재하나 `getCollection` 결과에 포함되지 않음. 오류 메시지 없음.
		- **해결**: `content.config.ts`의 스키마와 실제 `.mdx` 파일의 Frontmatter를 엄격하게 일치시켜야 함. 특히 날짜 포맷과 필수 객체 구조 주의.
- ## log
	- [[2026-01-16]] Page created.
- ### References